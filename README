Setup with Apache:

Add this to /etc/apache2/apache2.conf:

# Set up the aq ctrl site
WSGIScriptAlias / /aquarium-ctrl/aquarium_controller/wsgi.py


<Directory /aquarium-ctrl/aquarium_controller>
<Files wsgi.py>
Order deny,allow
Allow from all
</Files>
</Directory>

# Set up the static area
Alias /static /aquarium-ctrl/aquarium_controller/static

<Directory /aquarium-ctrl/aquarium_controller/static>
Order deny,allow
Allow from all
</Directory>

Connections:
P9_12 : 1Wire for Temp probes
28-000005abd542 - BB Temp Probe
28-0000054f0d80 - Water Temp Probe


PWM info:
MSB -> LSB  224 bits

 

Header:  (bits 224-213)

100101  write command

0 timing on falling edge (doesn’t really matter)

0 internal clock

=94

 

0 timing reset disabled

1 auto repeat enabled

0 blanking disabled (output enabled)

 

=(to be ored with next)

 

Global Brightness Control (sink current control) – 3 banks, maximize all (bits 212-206, 205-199, 198-192)

7 bits per bank

1111111 x3

 

= 5 (ored w/ above) FFFFF

 

Total header:  945FFFFF

 

 

Level settings: (MSB: B3, G3, R3, … B0, G0, R0 LSB), bits 212-206, 205-199, …, 15-0

 

Min: 0000, max: FFFF; since I’m driving a digital ctrl w/ pullup: FFFF = off; 0000 = 100%

 

 

[FFFF] *  12
